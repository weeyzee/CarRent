<div class="payment-background">
  <img src="./assets/promo/background.png" alt="Фон проката авто" class="background-image">

<mat-card class="trip-card">
  <div class="trip-header">
    <h2>Управление поездкой</h2>
    <mat-icon class="trip-icon">directions_car</mat-icon>
  </div>

  <div *ngIf="trip" class="trip-info">
    <div class="info-row">
      <mat-icon>place</mat-icon>
      <div>
        <span class="info-label">Адрес начала поездки:</span>
        <span class="info-value">{{ trip.startLocation }}</span>
      </div>
    </div>
    
    <div class="info-row">
      <mat-icon>straighten</mat-icon>
      <div>
        <span class="info-label">Пройденная дистанция:</span>
        <span class="info-value">{{ trip.distance }} км</span>
      </div>
    </div>
    
    <div class="info-row">
      <mat-icon>attach_money</mat-icon>
      <div>
        <span class="info-label">Цена за километр:</span>
        <span class="info-value highlight">{{ trip.price }} ₽</span>
      </div>
    </div>

    <div *ngIf="trip.completed" class="trip-completed">
      <mat-icon class="completed-icon">check_circle</mat-icon>
      <p>Поездка завершена</p>
      
      <div class="info-row">
        <mat-icon>flag</mat-icon>
        <div>
          <span class="info-label">Конечная точка:</span>
          <span class="info-value">{{ trip.endLocation }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="trip-actions">
    <button mat-raised-button 
            color="primary" 
            class="action-button"
            (click)="startTrip()" 
            [disabled]="trip">
      <mat-icon>play_arrow</mat-icon>
      Начать поездку
    </button>
    
    <button mat-raised-button 
            color="accent" 
            class="action-button"
            (click)="completeTrip()" 
            [disabled]="!trip || trip.completed">
      <mat-icon>stop</mat-icon>
      Завершить поездку
    </button>
    
    <button *ngIf="trip?.completed" 
            mat-raised-button 
            color="primary" 
            class="action-button payment-button"
            (click)="goToPayment()">
      <mat-icon>payment</mat-icon>
      Перейти к оплате
    </button>
  </div>

  <p *ngIf="message" class="status-message">{{ message }}</p>
</mat-card></div>